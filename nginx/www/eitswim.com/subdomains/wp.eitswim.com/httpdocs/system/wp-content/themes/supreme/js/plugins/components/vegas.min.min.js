/*!-----------------------------------------------------------------------------
 * Vegas - Fullscreen Backgrounds and Slideshows.
 * v2.1.3 - built 2015-04-28
 * Licensed under the MIT License.
 * http://vegas.jaysalvat.com/
 * ----------------------------------------------------------------------------
 * Copyright (C) 2010-2015 Jay Salvat
 * http://jaysalvat.com/
 * --------------------------------------------------------------------------*/
;!function(b){var c={slide:0,delay:5000,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",transition:"fade",transitionDuration:1000,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},a={},d=function(f,g){this.elmt=f,this.settings=b.extend({},c,b.vegas.defaults,g),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.$elmt=b(f),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==!1&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==!1&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit" in document.body.style,transition:"transition" in document.body.style||"WebkitTransition" in document.body.style,video:b.vegas.isVideoCompatible()},this.settings.shuffle===!0&&this.shuffle(),this._init()};d.prototype={_init:function(){var h,g,k,m="BODY"===this.elmt.tagName,l=this.settings.timer,f=this.settings.overlay,j=this;this._preload(),m||(this.$elmt.css("height",this.$elmt.css("height")),h=b('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||h.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo(h),this.elmt.innerHTML=""),l&&this.support.transition&&(k=b('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=k,this.$elmt.prepend(k)),f&&(g=b('<div class="vegas-overlay">'),"string"==typeof f&&g.css("background-image","url("+f+")"),this.$overlay=g,this.$elmt.prepend(g)),this.$elmt.addClass("vegas-container"),m||this.$elmt.append(h),setTimeout(function(){j.trigger("init"),j._goto(j.slide),j.settings.autoplay&&j.trigger("play")},1)},_preload:function(){var f,g,e;for(e=0;e<this.settings.slides.length;e++){(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[e].src&&(g=new Image,g.src=this.settings.slides[e].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[e].video&&(f=this._video(this.settings.slides[e].video instanceof Array?this.settings.slides[e].video:this.settings.slides[e].video.src))}},_random:function(e){return e[Math.floor(Math.random()*(e.length-1))]},_slideShow:function(){var e=this;this.total>1&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){e.next()},this._options("delay")))},_timer:function(e){var f=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.paused||this.noshow||e&&setTimeout(function(){f.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",f._options("delay")-100+"ms")},100))},_video:function(f){var g,h,i=f.toString();return a[i]?a[i]:(f instanceof Array==!1&&(f=[f]),g=document.createElement("video"),g.preload=!0,f.forEach(function(e){h=document.createElement("source"),h.src=e,g.appendChild(h)}),a[i]=g,g)},_fadeOutSound:function(g,h){var f=this,j=h/10,k=g.volume-0.09;k>0?(g.volume=k,setTimeout(function(){f._fadeOutSound(g,h)},j)):g.pause()},_fadeInSound:function(g,h){var f=this,j=h/10,k=g.volume+0.09;1>k&&(g.volume=k,setTimeout(function(){f._fadeInSound(g,h)},j))},_options:function(e,f){return void 0===f&&(f=this.slide),void 0!==this.settings.slides[f][e]?this.settings.slides[f][e]:this.settings[e]},_goto:function(x){function F(){I._timer(!0),setTimeout(function(){j&&(I.support.transition?(G.css("transition","all "+O+"ms").addClass("vegas-transition-"+j+"-out"),G.each(function(){var f=G.find("video").get(0);f&&(f.volume=1,I._fadeOutSound(f,O))}),J.css("transition","all "+O+"ms").addClass("vegas-transition-"+j+"-in")):J.fadeIn(O));for(var e=0;e<G.length-4;e++){G.eq(e).remove()}I.trigger("walk"),I._slideShow()},100)}"undefined"==typeof this.settings.slides[x]&&(x=0),this.slide=x;var J,C,B,N,z,G=this.$elmt.children(".vegas-slide"),E=this.settings.slides[x].src,K=this.settings.slides[x].video,H=this._options("delay"),t=this._options("align"),L=this._options("valign"),A=this._options("color")||this.$elmt.css("background-color"),D=this._options("cover")?"cover":"contain",I=this,q=G.length,j=this._options("transition"),O=this._options("transitionDuration"),k=this._options("animation"),M=this._options("animationDuration");("random"===j||j instanceof Array)&&(j=this._random(j instanceof Array?j:this.transitions)),("random"===k||k instanceof Array)&&(k=this._random(k instanceof Array?k:this.animations)),("auto"===O||O>H)&&(O=H),"auto"===M&&(M=H),J=b('<div class="vegas-slide"></div>'),this.support.transition&&j&&J.addClass("vegas-transition-"+j),this.support.video&&K?(N=this._video(K instanceof Array?K:K.src),N.loop=void 0!==K.loop?K.loop:!0,N.muted=void 0!==K.mute?K.mute:!0,N.muted===!1?(N.volume=0,this._fadeInSound(N,O)):N.pause(),B=b(N).addClass("vegas-video").css("background-color",A),this.support.objectFit?B.css("object-position",t+" "+L).css("object-fit",D).css("width","100%").css("height","100%"):"contain"===D&&B.css("width","100%").css("height","100%"),J.append(B)):(z=new Image,C=b('<div class="vegas-slide-inner"></div>').css("background-image","url("+E+")").css("background-color",A).css("background-position",t+" "+L).css("background-size",D),this.support.transition&&k&&C.addClass("vegas-animation-"+k).css("animation-duration",M+"ms"),J.append(C)),this.support.transition||J.css("display","none"),q?G.eq(q-1).after(J):this.$elmt.prepend(J),I._timer(!1),N?(4===N.readyState&&(N.currentTime=0),N.play(),F()):(z.src=E,z.onload=F)},shuffle:function(){for(var f,g,e=this.total-1;e>0;e--){g=Math.floor(Math.random()*(e+1)),f=this.settings.slides[e],this.settings.slides[e]=this.settings.slides[g],this.settings.slides[g]=f}},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return !this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(e){0>e||e>this.total-1||e===this.slide||(this.slide=e,this._goto(this.slide))},next:function(){this.slide++,this.slide>=this.total&&(this.slide=0),this._goto(this.slide)},previous:function(){this.slide--,this.slide<0&&(this.slide=this.total-1),this._goto(this.slide)},trigger:function(e){var f=[];f="init"===e?[this.settings]:[this.slide,this.settings.slides[this.slide]],this.$elmt.trigger("vegas"+e,f),"function"==typeof this.settings[e]&&this.settings[e].apply(this.$elmt,f)},options:function(f,g){var h=this.settings.slides.slice();if("object"==typeof f){this.settings=b.extend({},c,b.vegas.defaults,f)}else{if("string"!=typeof f){return this.settings}if(void 0===g){return this.settings[f]}this.settings[f]=g}this.settings.slides!==h&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},b.fn.vegas=function(f){var g,e=arguments,h=!1;if(void 0===f||"object"==typeof f){return this.each(function(){this._vegas||(this._vegas=new d(this,f))})}if("string"==typeof f){if(this.each(function(){var i=this._vegas;if(!i){throw new Error("No Vegas applied to this element.")}"function"==typeof i[f]&&"_"!==f[0]?g=i[f].apply(i,[].slice.call(e,1)):h=!0}),h){throw new Error('No method "'+f+'" in Vegas.')}return void 0!==g?g:this}},b.vegas={},b.vegas.defaults=c,b.vegas.isVideoCompatible=function(){return !/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto);