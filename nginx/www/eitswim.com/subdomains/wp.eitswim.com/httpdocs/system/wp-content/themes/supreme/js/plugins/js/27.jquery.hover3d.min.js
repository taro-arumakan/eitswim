!function(a){a.fn.hover3d=function(b){var c=a.extend({selector:null,perspective:1000,sensitivity:20,invert:!1,shine:!1,hoverInClass:"hover-in",hoverOutClass:"hover-out",hoverClass:"hover-3d"},b);return this.each(function(){function f(i){e.addClass(c.hoverInClass+" "+c.hoverClass),currentX=currentY=0,setTimeout(function(){e.removeClass(c.hoverInClass)},1000)}function g(r){var z=e.innerWidth(),A=e.innerHeight(),l=Math.round(r.pageX-e.offset().left),k=Math.round(r.pageY-e.offset().top),x=c.invert?(z/2-l)/c.sensitivity:-(z/2-l)/c.sensitivity,w=c.invert?-(A/2-k)/c.sensitivity:(A/2-k)/c.sensitivity,y=l-z/2,i=k-A/2,q=Math.atan2(i,y),m=180*q/Math.PI-90;0>m&&(m+=360),e.css({perspective:c.perspective+"px",transformStyle:"preserve-3d",transform:"rotateY("+x+"deg) rotateX("+w+"deg)"}),d.css("background","linear-gradient("+m+"deg, rgba(255,255,255,"+r.offsetY/A*0.5+") 0%,rgba(255,255,255,0) 80%)")}function j(){e.addClass(c.hoverOutClass+" "+c.hoverClass),e.css({perspective:c.perspective+"px",transformStyle:"preserve-3d",transform:"rotateX(0) rotateY(0)"}),setTimeout(function(){e.removeClass(c.hoverOutClass+" "+c.hoverClass),currentX=currentY=0},1000)}var h=a(this),e=h.find(c.selector);currentX=0,currentY=0,c.shine&&e.append('<div class="shine"></div>');var d=a(this).find(".shine");h.css({perspective:c.perspective+"px",transformStyle:"preserve-3d"}),e.css({perspective:c.perspective+"px",transformStyle:"preserve-3d"}),d.css({position:"absolute",top:0,left:0,bottom:0,right:0,transform:"translateZ(1px)","z-index":9}),h.on("mouseenter",function(){return f()}),h.on("mousemove",function(i){return g(i)}),h.on("mouseleave",function(){return j()})})}}(jQuery);