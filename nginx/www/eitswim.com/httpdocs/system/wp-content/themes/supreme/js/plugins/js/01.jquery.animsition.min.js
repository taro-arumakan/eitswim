/*!
 * animsition v4.0.2
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(b){var c="animsition",a={init:function(d){d=b.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5000,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}},d),a.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var g=a.supportCheck.call(this,d);if(!g&&d.browser.length>0&&(!g||!this.length)){return"console" in window||(window.console={},window.console.log=function(e){return e}),this.length||console.log("Animsition: Element does not exist on page."),g||console.log("Animsition: Does not support this browser."),a.destroy.call(this)}var f=a.optionCheck.call(this,d);return f&&b("."+d.overlayClass).length<=0&&a.addOverlay.call(this,d),d.loading&&b("."+d.loadingClass).length<=0&&a.addLoading.call(this,d),this.each(function(){var m=this,k=b(this),i=b(window),j=b(document),h=k.data(c);h||(d=b.extend({},d),k.data(c,{options:d}),d.timeout&&a.addTimer.call(m),d.onLoadEvent&&i.on("load."+c,function(){a.settings.timer&&clearTimeout(a.settings.timer),a["in"].call(m)}),i.on("pageshow."+c,function(e){e.originalEvent.persisted&&a["in"].call(m)}),i.on("unload."+c,function(){}),j.on("click."+c,d.linkElement,function(p){p.preventDefault();var l=b(this),o=l.attr("href");2===p.which||p.metaKey||p.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&p.ctrlKey?window.open(o,"_blank"):a.out.call(m,l,o)}))})},addOverlay:function(d){b(d.overlayParentElement).prepend('<div class="'+d.overlayClass+'"></div>')},addLoading:function(d){b(d.loadingParentElement).append('<div class="'+d.loadingClass+'">'+d.loadingInner+"</div>")},removeLoading:function(){var e=b(this),d=e.data(c).options,f=b(d.loadingParentElement).children("."+d.loadingClass);f.fadeOut().remove()},addTimer:function(){var d=this,g=b(this),f=g.data(c).options;a.settings.timer=setTimeout(function(){a["in"].call(d),b(window).off("load."+c)},f.timeoutCountdown)},supportCheck:function(k){var f=b(this),d=k.browser,j=d.length,h=!1;0===j&&(h=!0);for(var g=0;j>g;g++){if("string"==typeof f.css(d[g])){h=!0;break}}return h},optionCheck:function(f){var d,e=b(this);return d=f.overlay||e.data(a.settings.data.overlay)?!0:!1},animationCheck:function(h,g,p){var m=b(this),j=m.data(c).options,k=typeof h,f=!g&&"number"===k,n=g&&"string"===k&&h.length>0;return f||n?h=h:g&&p?h=j.inClass:!g&&p?h=j.inDuration:g&&!p?h=j.outClass:g||p||(h=j.outDuration),h},"in":function(){var m=this,g=b(this),i=g.data(c).options,p=g.data(a.settings.data.inDuration),f=g.data(a.settings.data.inClass),h=a.animationCheck.call(m,p,!1,!0),j=a.animationCheck.call(m,f,!0,!0),n=a.optionCheck.call(m,i),k=g.data(c).outClass;i.loading&&a.removeLoading.call(m),k&&g.removeClass(k),n?a.inOverlay.call(m,j,h):a.inDefault.call(m,j,h)},inDefault:function(f,d){var e=b(this);e.css({"animation-duration":d+"ms"}).addClass(f).trigger(a.settings.events.inStart).animateCallback(function(){e.removeClass(f).css({opacity:1}).trigger(a.settings.events.inEnd)})},inOverlay:function(d,h){var g=b(this),f=g.data(c).options;g.css({opacity:1}).trigger(a.settings.events.inStart),b(f.overlayParentElement).children("."+f.overlayClass).css({"animation-duration":h+"ms"}).addClass(d).animateCallback(function(){g.trigger(a.settings.events.inEnd)})},out:function(z,j){var w=this,C=b(this),i=C.data(c).options,n=z.data(a.settings.data.outClass),x=C.data(a.settings.data.outClass),B=z.data(a.settings.data.outDuration),y=C.data(a.settings.data.outDuration),k=n?n:x,q=B?B:y,t=a.animationCheck.call(w,k,!0,!1),A=a.animationCheck.call(w,q,!1,!1),p=a.optionCheck.call(w,i);C.data(c).outClass=t,p?a.outOverlay.call(w,t,A,j):a.outDefault.call(w,t,A,j)},outDefault:function(d,i,h){var f=b(this),g=f.data(c).options;f.css({"animation-duration":i+1+"ms"}).addClass(d).trigger(a.settings.events.outStart).animateCallback(function(){f.trigger(a.settings.events.outEnd),g.transition(h)})},outOverlay:function(g,n,k){var i=this,j=b(this),f=j.data(c).options,m=j.data(a.settings.data.inClass),h=a.animationCheck.call(i,m,!0,!0);b(f.overlayParentElement).children("."+f.overlayClass).css({"animation-duration":n+1+"ms"}).removeClass(h).addClass(g).trigger(a.settings.events.outStart).animateCallback(function(){j.trigger(a.settings.events.outEnd),f.transition(k)})},destroy:function(){return this.each(function(){var d=b(this);b(window).off("."+c),d.css({opacity:1}).removeData(c)})}};b.fn.animateCallback=function(e){var d="animationend webkitAnimationEnd";return this.each(function(){var f=b(this);f.on(d,function(){return f.off(d),e.call(this)})})},b.fn.animsition=function(d){return a[d]?a[d].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof d&&d?void b.error("Method "+d+" does not exist on jQuery."+c):a.init.apply(this,arguments)}});