(function(a){a.fn.appear=function(b,d){var c=a.extend({data:undefined,one:true,accX:0,accY:0},d);return this.each(function(){var h=a(this);h.appeared=false;if(!b){h.trigger("appear",c.data);return}var e=a(window);var f=function(){if(!h.is(":visible")){h.appeared=false;return}var q=e.scrollLeft();var x=e.scrollTop();var y=h.offset();var j=y.left;var w=y.top;var v=c.accX;var n=c.accY;var k=h.height();var r=e.height();var m=h.width();var i=e.width();if(w+k+n>=x&&w<=x+r+n&&j+m+v>=q&&j<=q+i+v){if(!h.appeared){h.trigger("appear",c.data)}}else{h.appeared=false}};var g=function(){h.appeared=true;if(c.one){e.unbind("scroll",f);var i=a.inArray(f,a.fn.appear.checks);if(i>=0){a.fn.appear.checks.splice(i,1)}}b.apply(this,arguments)};if(c.one){h.one("appear",c.data,g)}else{h.bind("appear",c.data,g)}e.scroll(f);a.fn.appear.checks.push(f);f()})};a.extend(a.fn.appear,{checks:[],timeout:null,checkAll:function(){var b=a.fn.appear.checks.length;if(b>0){while(b--){a.fn.appear.checks[b]()}}},run:function(){if(a.fn.appear.timeout){clearTimeout(a.fn.appear.timeout)}a.fn.appear.timeout=setTimeout(a.fn.appear.checkAll,20)}});a.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(b,d){var c=a.fn[d];if(c){a.fn[d]=function(){var e=c.apply(this,arguments);a.fn.appear.run();return e}}})})(jQuery);