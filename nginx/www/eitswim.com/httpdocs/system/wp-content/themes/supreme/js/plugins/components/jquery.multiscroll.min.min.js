(function(c,f,h,d,a){c.fn.multiscroll=function(ad){function Q(){var k=f.location.hash.replace("#","");if(k.length){var l=c(".ms-left").find('[data-anchor="'+k+'"]');"undefined"!==typeof lastScrolledDestiny&&k===lastScrolledDestiny||ab(l)}}function O(){x=c(f).height();c(".ms-tableCell").each(function(){c(this).css({height:j(c(this).parent())})});g();c.isFunction(ad.afterResize)&&ad.afterResize.call(this)}function g(){ad.css3?(X(c(".ms-left"),"translate3d(0px, -"+c(".ms-left").find(".ms-section.active").position().top+"px, 0px)",!1),X(c(".ms-right"),"translate3d(0px, -"+c(".ms-right").find(".ms-section.active").position().top+"px, 0px)",!1)):(c(".ms-left").css("top",-c(".ms-left").find(".ms-section.active").position().top),c(".ms-right").css("top",-c(".ms-right").find(".ms-section.active").position().top))}function ab(l){var q=l.index(),u=c(".ms-right").find(".ms-section").eq(N-1-q),t=l.data("anchor"),p=c(".ms-left .ms-section.active").index()+1,m=M(l);Y=!0;var n={left:l.position().top,right:u.position().top};u.addClass("active").siblings().removeClass("active");l.addClass("active").siblings().removeClass("active");ad.anchors.length&&(location.hash=t);W();ad.css3?(c.isFunction(ad.onLeave)&&ad.onLeave.call(this,p,q+1,m),l="translate3d(0px, -"+n.left+"px, 0px)",n="translate3d(0px, -"+n.right+"px, 0px)",X(c(".ms-left"),l,!0),X(c(".ms-right"),n,!0),setTimeout(function(){c.isFunction(ad.afterLoad)&&ad.afterLoad.call(this,t,q+1);setTimeout(function(){Y=!1},600)},ad.scrollingSpeed)):(c.isFunction(ad.onLeave)&&ad.onLeave.call(this,p,q+1,m),c(".ms-left").animate({top:-n.left},ad.scrollingSpeed,ad.easing,function(){c.isFunction(ad.afterLoad)&&ad.afterLoad.call(this,t,q+1);setTimeout(function(){Y=!1},600)}),c(".ms-right").animate({top:-n.right},ad.scrollingSpeed,ad.easing));lastScrolledDestiny=t;r(t);o(t,q)}function U(){h.addEventListener?(h.addEventListener("mousewheel",Z,!1),h.addEventListener("wheel",Z,!1)):h.attachEvent("onmousewheel",Z)}function Z(k){k=f.event||k;k=d.max(-1,d.min(1,k.wheelDelta||-k.deltaY||-k.detail));Y||(0>k?ac.moveSectionDown():ac.moveSectionUp());return !1}function X(l,k,m){l.toggleClass("ms-easing",m);l.css({"-webkit-transform":k,"-moz-transform":k,"-ms-transform":k,transform:k})}function o(k,l){ad.navigation&&(c("#multiscroll-nav").find(".active").removeClass("active"),k?c("#multiscroll-nav").find('a[href="#'+k+'"]').addClass("active"):c("#multiscroll-nav").find("li").eq(l).find("a").addClass("active"))}function r(k){ad.menu&&(c(ad.menu).find(".active").removeClass("active"),c(ad.menu).find('[data-menuanchor="'+k+'"]').addClass("active"))}function M(k){var l=c(".ms-left .ms-section.active").index();k=k.index();return l>k?"up":"down"}function W(){var k=c(".ms-left .ms-section.active"),l=k.data("anchor"),k=k.index(),k=String(k);ad.anchors.length&&(k=l);k=k.replace("/","-").replace("#","");l=RegExp("\\b\\s?ms-viewing-[^\\s]+\\b","g");c("body")[0].className=c("body")[0].className.replace(l,"");c("body").addClass("ms-viewing-"+k)}function i(){var l=h.createElement("p"),k,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};h.body.insertBefore(l,null);for(var m in n){l.style[m]!==a&&(l.style[m]="translate3d(1px,1px,1px)",k=f.getComputedStyle(l).getPropertyValue(n[m]))}h.body.removeChild(l);return k!==a&&0<k.length&&"none"!==k}function j(l){var k=x;if(ad.paddingTop||ad.paddingBottom){l=parseInt(l.css("padding-top"))+parseInt(l.css("padding-bottom")),k=x-l}return k}function e(k){var l=k.originalEvent;s(l)&&(k.preventDefault(),c(".ms-left .ms-section.active"),Y||(V=S(l).y,d.abs(T-V)>c(f).height()/100*ad.touchSensitivity&&(T>V?ac.moveSectionDown():V>T&&ac.moveSectionUp())))}function s(k){return"undefined"===typeof k.pointerType||"mouse"!=k.pointerType}function b(k){k=k.originalEvent;s(k)&&(T=S(k).y)}function S(l){var k=[];k.y="undefined"!==typeof l.pageY&&(l.pageY||l.pageX)?l.pageY:l.touches[0].pageY;k.x="undefined"!==typeof l.pageX&&(l.pageY||l.pageX)?l.pageX:l.touches[0].pageX;R&&s(l)&&(k.y=l.touches[0].pageY,k.x=l.touches[0].pageX);return k}var ac=c.fn.multiscroll;ad=c.extend({verticalCentered:!0,scrollingSpeed:700,easing:"easeInQuart",menu:!1,sectionsColor:[],anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:!1,loopTop:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,sectionSelector:".ms-section",leftSelector:".ms-left",rightSelector:".ms-right",afterLoad:null,onLeave:null,afterRender:null,afterResize:null},ad);var R="ontouchstart" in f||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;".ms-right"!==ad.rightSelector&&c(ad.rightSelector).addClass("ms-right");".ms-left"!==ad.leftSelector&&c(ad.leftSelector).addClass("ms-left");var N=c(".ms-left").find(".ms-section").length,Y=!1,aa,x=c(f).height();U();R&&(MSPointer=f.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"},c(h).off("touchstart "+MSPointer.down).on("touchstart "+MSPointer.down,b),c(h).off("touchmove "+MSPointer.move).on("touchmove "+MSPointer.move,e));ad.css3&&(ad.css3=i());c("html, body").css({overflow:"hidden",height:"100%"});".ms-section"!==ad.sectionSelector&&c(ad.sectionSelector).each(function(){c(this).addClass("ms-section")});ad.navigation&&(c("body").append('<div id="multiscroll-nav"><ul></ul></div>'),aa=c("#multiscroll-nav"),aa.css("color",ad.navigationColor),aa.addClass(ad.navigationPosition));c(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"});c(".ms-right").css({right:"1px",top:"0","-ms-touch-action":"none","touch-action":"none"});c(".ms-left").css({left:"0",top:"0","-ms-touch-action":"none","touch-action":"none"});c(".ms-left .ms-section, .ms-right .ms-section").each(function(){var k=c(this).index();(ad.paddingTop||ad.paddingBottom)&&c(this).css("padding",ad.paddingTop+" 0 "+ad.paddingBottom+" 0");"undefined"!==typeof ad.sectionsColor[k]&&c(this).css("background-color",ad.sectionsColor[k]);"undefined"!==typeof ad.anchors[k]&&c(this).attr("data-anchor",ad.anchors[k]);if(ad.verticalCentered){var l=c(this);l.addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+j(l)+'px" />')}c(this).closest(".ms-left").length&&ad.navigation&&(l="",ad.anchors.length&&(l=ad.anchors[k]),k=ad.navigationTooltips[k],"undefined"===typeof k&&(k=""),ad.navigation&&aa.find("ul").append('<li data-tooltip="'+k+'"><a href="#'+l+'"><span></span></a></li>'))});c(".ms-right").html(c(".ms-right").find(".ms-section").get().reverse());c(".ms-left .ms-section, .ms-right .ms-section").each(function(){var k=c(this).index();c(this).css({height:"100%"});!k&&ad.navigation&&aa.find("li").eq(k).find("a").addClass("active")}).promise().done(function(){c(".ms-left .ms-section.active").length||(c(".ms-right").find(".ms-section").last().addClass("active"),c(".ms-left").find(".ms-section").first().addClass("active"));ad.navigation&&aa.css("margin-top","-"+aa.height()/2+"px");c.isFunction(ad.afterRender)&&ad.afterRender.call(this);g();W();c(f).on("load",function(){var k=f.location.hash.replace("#",""),l=c('.ms-left .ms-section[data-anchor="'+k+'"]');k.length&&ab(l)})});c(f).on("hashchange",Q);c(h).keydown(function(k){clearTimeout(P);var l=c(h.activeElement);l.is("textarea")||l.is("input")||l.is("select")||!ad.keyboardScrolling||(-1<c.inArray(k.which,[40,38,32,33,34])&&k.preventDefault(),P=setTimeout(function(){var m=k.shiftKey;switch(k.which){case 38:case 33:ac.moveSectionUp();break;case 32:if(m){ac.moveSectionUp();break}case 40:case 34:ac.moveSectionDown();break;case 36:ac.moveTo(1);break;case 35:ac.moveTo(c(".ms-left .ms-section").length)}},150))});var P;c(h).mousedown(function(k){if(1==k.button){return k.preventDefault(),!1}});c(h).on("click","#multiscroll-nav a",function(k){k.preventDefault();k=c(this).parent().index();ab(c(".ms-left .ms-section").eq(k))});c(h).on({mouseenter:function(){var k=c(this).data("tooltip");c('<div class="multiscroll-tooltip '+ad.navigationPosition+'">'+k+"</div>").hide().appendTo(c(this)).fadeIn(200)},mouseleave:function(){c(this).find(".multiscroll-tooltip").fadeOut(200,function(){c(this).remove()})}},"#multiscroll-nav li");ad.normalScrollElements&&(c(h).on("mouseenter",ad.normalScrollElements,function(){ac.setMouseWheelScrolling(!1)}),c(h).on("mouseleave",ad.normalScrollElements,function(){ac.setMouseWheelScrolling(!0)}));c(f).on("resize",O);ac.moveSectionUp=function(){var k=c(".ms-left .ms-section.active").prev(".ms-section");!k.length&&ad.loopTop&&(k=c(".ms-left .ms-section").last());k.length&&ab(k)};ac.moveSectionDown=function(){var k=c(".ms-left .ms-section.active").next(".ms-section");!k.length&&ad.loopBottom&&(k=c(".ms-left .ms-section").first());k.length&&ab(k)};ac.moveTo=function(k){var l="",l=isNaN(k)?c('.ms-left [data-anchor="'+k+'"]'):c(".ms-left .ms-section").eq(k-1);ab(l)};ac.setKeyboardScrolling=function(k){ad.keyboardScrolling=k};ac.setMouseWheelScrolling=function(k){k?U():h.addEventListener?(h.removeEventListener("mousewheel",Z,!1),h.removeEventListener("wheel",Z,!1)):h.detachEvent("onmousewheel",Z)};ac.setScrollingSpeed=function(k){ad.scrollingSpeed=k};var T=0,V=0;ac.destroy=function(){ac.setKeyboardScrolling(!1);ac.setMouseWheelScrolling(!1);c(f).off("hashchange",Q).off("resize",O);c(h).off("mouseenter","#multiscroll-nav li").off("mouseleave","#multiscroll-nav li").off("click","#multiscroll-nav a")};ac.build=function(){ac.setKeyboardScrolling(!0);ac.setMouseWheelScrolling(!0);c(f).on("hashchange",Q).on("resize",O);c(h).on("mouseenter","#multiscroll-nav li").on("mouseleave","#multiscroll-nav li").on("click","#multiscroll-nav a")}}})(jQuery,window,document,Math);