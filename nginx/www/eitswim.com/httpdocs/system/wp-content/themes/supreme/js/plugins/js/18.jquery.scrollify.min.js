!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],function(a){return c(a,d,d.document)}):"object"==typeof module&&module.exports?module.exports=c(require("jquery"),d,d.document):c(jQuery,d,d.document)}("undefined"!=typeof window?window:this,function(ap,ao,an,am){function al(j,i,h,g){if(W===j&&(h=!1),I===!0){return !0}if(ac[j]){if(M=!1,h&&N.before(j,ab),U=1,R=ad[j],V===!1&&W>j&&g===!1&&aa[j]&&(U=parseInt(ab[j].outerHeight()/Q.height()),R=parseInt(ad[j])+(ab[j].outerHeight()-Q.height())),N.updateHash&&N.sectionName&&(V!==!0||0!==j)){if(history.pushState){try{history.replaceState(null,null,ac[j])}catch(b){ao.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}}else{ao.location.hash=ac[j]}}if(V&&(N.afterRender(),V=!1),W=j,i){b(N.target).stop().scrollTop(R),h&&N.after(j,ab)}else{if(K=!0,b().velocity?b(N.target).stop().velocity("scroll",{duration:N.scrollSpeed,easing:N.easing,offset:R,mobileHA:!1}):b(N.target).stop().animate({scrollTop:R},N.scrollSpeed,N.easing),ao.location.hash.length&&N.sectionName&&ao.console){try{b(ao.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(b){}}b(N.target).promise().done(function(){K=!1,V=!1,h&&N.after(j,ab)})}}}function ak(f){function e(a){for(var k=0,j=f.slice(Math.max(f.length-a,1)),i=0;i<j.length;i++){k+=j[i]}return Math.ceil(k/a)}var h=e(10),g=e(70);return h>=g}function aj(e,d){for(var f=ac.length;f>=0;f--){"string"==typeof e?ac[f]===e&&(Y=f,al(f,d,!0,!0)):f===e&&(Y=f,al(f,d,!0,!0))}}var ai,ah,ag,af,ae,ad=[],ac=[],ab=[],aa=[],Y=0,W=0,U=1,S=!1,Q=ap(ao),O=Q.scrollTop(),M=!1,K=!1,J=!1,I=!1,Z=[],X=(new Date).getTime(),V=!0,T=!1,R=0,P="onwheel" in an?"wheel":an.onmousewheel!==am?"mousewheel":"DOMMouseScroll",N={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},L=function(h){function c(d){ap().velocity?ap(N.target).stop().velocity("scroll",{duration:N.scrollSpeed,easing:N.easing,offset:d,mobileHA:!1}):ap(N.target).stop().animate({scrollTop:d},N.scrollSpeed,N.easing)}function b(d){d&&(O=Q.scrollTop());var g=N.section;aa=[],N.interstitialSection.length&&(g+=","+N.interstitialSection),N.scrollbars===!1&&(N.overflowScroll=!1),ap(g).each(function(i){var j=ap(this);N.setHeights?j.is(N.interstitialSection)?aa[i]=!1:j.css("height","auto").outerHeight()<Q.height()||"hidden"===j.css("overflow")?(j.css({height:Q.height()}),aa[i]=!1):(j.css({height:j.height()}),N.overflowScroll?aa[i]=!0:aa[i]=!1):j.outerHeight()<Q.height()||N.overflowScroll===!1?aa[i]=!1:aa[i]=!0}),d&&Q.scrollTop(O)}function f(j,i){var g=N.section;N.interstitialSection.length&&(g+=","+N.interstitialSection),ad=[],ac=[],ab=[],ap(g).each(function(m){var l=k(this);m>0?ad[m]=parseInt(l.offset().top)+N.offset:ad[m]=parseInt(l.offset().top),N.sectionName&&l.data(N.sectionName)?ac[m]="#"+l.data(N.sectionName).toString().replace(/ /g,"-"):l.is(N.interstitialSection)===!1?ac[m]="#"+(m+1):(ac[m]="#",m===k(g).length-1&&m>1&&(ad[m]=ad[m-1]+(parseInt(k(k(g)[m-1]).outerHeight())-parseInt(k(ao).height()))+parseInt(l.outerHeight()))),ab[m]=l;try{k(ac[m]).length&&ao.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(k){}ao.location.hash===ac[m]&&(Y=m,S=!0)}),!0===j&&al(Y,!1,!1,!1)}function e(){return !aa[Y]||(O=Q.scrollTop(),!(O>parseInt(ad[Y])))}function a(){return !aa[Y]||(O=Q.scrollTop(),!(O<parseInt(ad[Y])+(ab[Y].outerHeight()-Q.height())-28))}T=!0,ap.easing.easeOutExpo=function(i,g,l,k,j){return g==j?l+k:k*(-Math.pow(2,-10*g/j)+1)+l},ag={handleMousedown:function(){return I===!0||(M=!1,void (J=!1))},handleMouseup:function(){return I===!0||(M=!0,void (J&&ag.calculateNearest(!1,!0)))},handleScroll:function(){return I===!0||(ai&&clearTimeout(ai),void (ai=setTimeout(function(){return J=!0,M!==!1&&(M=!1,void ag.calculateNearest(!1,!0))},200)))},calculateNearest:function(j,i){O=Q.scrollTop();for(var o,n=1,m=ad.length,l=0,k=Math.abs(ad[0]-O);n<m;n++){o=Math.abs(ad[n]-O),o<k&&(k=o,l=n)}(a()&&l>Y||e())&&(Y=l,al(l,j,i,!1))},wheelHandler:function(l){if(I===!0){return !0}if(N.standardScrollElements&&(ap(l.target).is(N.standardScrollElements)||ap(l.target).closest(N.standardScrollElements).length)){return !0}aa[Y]||l.preventDefault();var k=(new Date).getTime();l=l||ao.event;var j=l.originalEvent.wheelDelta||-l.originalEvent.deltaY||-l.originalEvent.detail,i=Math.max(-1,Math.min(1,j));if(Z.length>149&&Z.shift(),Z.push(Math.abs(j)),k-X>200&&(Z=[]),X=k,K){return !1}if(i<0){if(Y<ad.length-1&&a()){if(!ak(Z)){return !1}l.preventDefault(),Y++,K=!0,al(Y,!1,!0,!1)}}else{if(i>0&&Y>0&&e()){if(!ak(Z)){return !1}l.preventDefault(),Y--,K=!0,al(Y,!1,!0,!1)}}},keyHandler:function(d){return I===!0||K!==!0&&void (38==d.keyCode||33==d.keyCode?Y>0&&e()&&(d.preventDefault(),Y--,al(Y,!1,!0,!1)):40!=d.keyCode&&34!=d.keyCode||Y<ad.length-1&&a()&&(d.preventDefault(),Y++,al(Y,!1,!0,!1)))},init:function(){N.scrollbars?(Q.on("mousedown",ag.handleMousedown),Q.on("mouseup",ag.handleMouseup),Q.on("scroll",ag.handleScroll)):ap("body").css({overflow:"hidden"}),Q.on(P,ag.wheelHandler),Q.on("keydown",ag.keyHandler)}},af={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(d){if(I===!0){return !0}if(N.standardScrollElements&&(ap(d.target).is(N.standardScrollElements)||ap(d.target).closest(N.standardScrollElements).length)){return !0}var g;if("undefined"!=typeof d&&"undefined"!=typeof d.touches){switch(g=d.touches[0],d.type){case"touchstart":af.touches.touchstart.y=g.pageY,af.touches.touchmove.y=-1,af.touches.touchstart.x=g.pageX,af.touches.touchmove.x=-1,af.options.timeStamp=(new Date).getTime(),af.touches.touchend=!1;case"touchmove":af.touches.touchmove.y=g.pageY,af.touches.touchmove.x=g.pageX,af.touches.touchstart.y!==af.touches.touchmove.y&&Math.abs(af.touches.touchstart.y-af.touches.touchmove.y)>Math.abs(af.touches.touchstart.x-af.touches.touchmove.x)&&(d.preventDefault(),af.touches.direction="y",af.options.timeStamp+af.options.timeGap<(new Date).getTime()&&0==af.touches.touchend&&(af.touches.touchend=!0,af.touches.touchstart.y>-1&&Math.abs(af.touches.touchmove.y-af.touches.touchstart.y)>af.options.distance&&(af.touches.touchstart.y<af.touches.touchmove.y?af.up():af.down())));break;case"touchend":af.touches[d.type]===!1&&(af.touches[d.type]=!0,af.touches.touchstart.y>-1&&af.touches.touchmove.y>-1&&"y"===af.touches.direction&&(Math.abs(af.touches.touchmove.y-af.touches.touchstart.y)>af.options.distance&&(af.touches.touchstart.y<af.touches.touchmove.y?af.up():af.down()),af.touches.touchstart.y=-1,af.touches.touchstart.x=-1,af.touches.direction="undetermined"))}}},down:function(){Y<ad.length-1&&(a()&&Y<ad.length-1?(Y++,al(Y,!1,!0,!1)):Math.floor(ab[Y].height()/Q.height())>U?(c(parseInt(ad[Y])+Q.height()*U),U+=1):c(parseInt(ad[Y])+(ab[Y].outerHeight()-Q.height())))},up:function(){Y>=0&&(e()&&Y>0?(Y--,al(Y,!1,!0,!1)):U>2?(U-=1,c(parseInt(ad[Y])+Q.height()*U)):(U=1,c(parseInt(ad[Y]))))},init:function(){an.addEventListener&&N.touchScroll&&(an.addEventListener("touchstart",af.touchHandler,!1),an.addEventListener("touchmove",af.touchHandler,!1),an.addEventListener("touchend",af.touchHandler,!1))}},ae={refresh:function(g,d){clearTimeout(ah),ah=setTimeout(function(){b(!0),f(d,!1),g&&N.afterResize()},400)},handleUpdate:function(){ae.refresh(!1,!1)},handleResize:function(){ae.refresh(!0,!1)},handleOrientation:function(){ae.refresh(!0,!0)}},N=ap.extend(N,h),b(!1),f(!1,!0),!0===S?al(Y,!1,!0,!0):setTimeout(function(){ag.calculateNearest(!0,!1)},200),ad.length&&(ag.init(),af.init(),Q.on("resize",ae.handleResize),an.addEventListener&&ao.addEventListener("orientationchange",ae.handleOrientation,!1))};return L.move=function(a){return a!==am&&(a.originalEvent&&(a=ap(this).attr("href")),void aj(a,!1))},L.instantMove=function(b){return b!==am&&void aj(b,!0)},L.next=function(){Y<ac.length&&(Y+=1,al(Y,!1,!0,!0))},L.previous=function(){Y>0&&(Y-=1,al(Y,!1,!0,!0))},L.instantNext=function(){Y<ac.length&&(Y+=1,al(Y,!0,!0,!0))},L.instantPrevious=function(){Y>0&&(Y-=1,al(Y,!0,!0,!0))},L.destroy=function(){return !!T&&(N.setHeights&&ap(N.section).each(function(){ap(this).css("height","auto")}),Q.off("resize",ae.handleResize),N.scrollbars&&(Q.off("mousedown",ag.handleMousedown),Q.off("mouseup",ag.handleMouseup),Q.off("scroll",ag.handleScroll)),Q.off(P,ag.wheelHandler),Q.off("keydown",ag.keyHandler),an.addEventListener&&N.touchScroll&&(an.removeEventListener("touchstart",af.touchHandler,!1),an.removeEventListener("touchmove",af.touchHandler,!1),an.removeEventListener("touchend",af.touchHandler,!1)),ad=[],ac=[],ab=[],void (aa=[]))},L.update=function(){return !!T&&void ae.handleUpdate()},L.current=function(){return ab[Y]},L.disable=function(){I=!0},L.enable=function(){I=!1,T&&ag.calculateNearest(!1,!1)},L.isDisabled=function(){return I},L.setOptions=function(a){return !!T&&void ("object"==typeof a?(N=ap.extend(N,a),ae.handleUpdate()):ao.console&&console.warn("Scrollify warning: setOptions expects an object."))},ap.scrollify=L,L});