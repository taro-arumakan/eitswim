!function(b){b.letItSnow=function(a,n){var m=this;m.$el=b(a),m.el=a,m.$el.data("LetItSnow",m),m.init=function(){if(m.options=b.extend({},b.letItSnow.defaultOptions,n),1==m.options.makeFlakes){for(var c=0;100>c;c++){m.$el.prepend('<span class="lis-flake"></span>')}}1==m.options.sticky&&(m.makeFlakes(),setInterval(function(){m.makeFlakes()},7000))},m.makeFlakes=function(){b(".lis-flake--js").remove();for(var d=0;50>d;d++){m.$el.append('<span class="'+m.options.stickyFlakes+'"></span>')}var e=b("."+m.options.stickyFlakes);m.animateFlakes(e)};var l=m.$el.find("[collectsnow]");if(l.length){var k=l.offset().top,j=l.offset().left,i=b(window).width()-(j+l.outerWidth())}m.animateFlakes=function(e){var g=function(d,c){return Math.floor(Math.random()*(c-d+1))+d},f=0;e.each(function(){function c(p){o.animate({marginTop:"2500px"},{duration:p,step:function(q){if(l.length){var s=Math.round(q),r=b(window).width()-(o.offset().left+o.outerWidth());h+s>=k-10&&k+10>=h+s&&o.css("left").replace(/[^-\d\.]/g,"")>=j&&r>=i&&o.stop().attr("class","lis-flake--stuck").css({width:"3px",height:"3px",top:h+6+"px"})}}})}var o=b(this),h=10*g(0,100)-1000;f++;var d={left:g(0,100)+"%",top:h+"px",width:g(0,5)+"px",height:g(0,5)+"px",transform:"rotate"+(g(0,100)+"deg")};o.css(d),o.hasClass("lis-flake--stuck")||(16>=f?c(10000):f>17&&33>=f?setTimeout(function(){c(8000)},4000):f>34&&50>f&&setTimeout(function(){c(8000)},6000))})},m.init()},b.letItSnow.defaultOptions={stickyFlakes:"lis-flake--js",makeFlakes:!0,sticky:!0},b.fn.letItSnow=function(a){return this.each(function(){new b.letItSnow(this,a)})}}(jQuery);